# 数据定义语句

## 数据库

### 新建数据库

```sql
0: jdbc:hive2://node01:10000> create database if not exists mydb location '/user/hivedb';
No rows affected (1.642 seconds)
0: jdbc:hive2://node01:10000> show databases;
+----------------+--+
| database_name  |
+----------------+--+
| default        |
| mydb           |
+----------------+--+

0: jdbc:hive2://node01:10000> show databases like '*db*'; # 模糊查询数据库
+----------------+--+
| database_name  |
+----------------+--+
| mydb           |
+----------------+--+

0: jdbc:hive2://node01:10000> desc database mydb; # 查询数据库的描述信息
+----------+----------+-------------------------------+-------------+-------------+-------------+--+
| db_name  | comment  |           location            | owner_name  | owner_type  | parameters  |
+----------+----------+-------------------------------+-------------+-------------+-------------+--+
| mydb     |          | hdfs://hacluster/user/hivedb  | root        | USER        |             |
+----------+----------+-------------------------------+-------------+-------------+-------------+--+

0: jdbc:hive2://node01:10000> desc database extended mydb; #查看数据库的扩展信息
+----------+----------+-------------------------------+-------------+-------------+-------------+--+
| db_name  | comment  |           location            | owner_name  | owner_type  | parameters  |
+----------+----------+-------------------------------+-------------+-------------+-------------+--+
| mydb     |          | hdfs://hacluster/user/hivedb  | root        | USER        |             |
+----------+----------+-------------------------------+-------------+-------------+-------------+--+
```

### 修改数据库

使用ALTER DATABASE命令为某个数据库的DBPROPERTIES设置键-值对属性值，来描述这个数据库的属性信息。数据库的其他元数据信息都是不可更改的，包括数据库名和数据库所在的目录位置

```sql
0: jdbc:hive2://node01:10000> alter database mydb set dbproperties('createtime'='20210127');
No rows affected (0.394 seconds)
0: jdbc:hive2://node01:10000> desc database extended mydb;
+----------+----------+-------------------------------+-------------+-------------+------------------------+--+
| db_name  | comment  |           location            | owner_name  | owner_type  |       parameters       |
+----------+----------+-------------------------------+-------------+-------------+------------------------+--+
| mydb     |          | hdfs://hacluster/user/hivedb  | root        | USER        | {createtime=20210127}  |
+----------+----------+-------------------------------+-------------+-------------+------------------------+--+
1 row selected (2.197 seconds)
```

### 删除数据库

如果数据库不为空，可以采用cascade命令，强制删除

```sql
0: jdbc:hive2://node01:10000> drop database mydb cascade;
No rows affected (4.809 seconds)
0: jdbc:hive2://node01:10000> show databases;
+----------------+--+
| database_name  |
+----------------+--+
| default        |
+----------------+--+
1 row selected (0.171 seconds)
```



