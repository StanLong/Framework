# 入门案例

## IOC

由Spring创建对象实例即 IoC 控制反转（Inverse of Control），需要实例对象时，从spring工厂（容器）中获得，需要将实现类的全限定名称配置到xml文件中

applicationContext.xml

```xml
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
        				   http://www.springframework.org/schema/beans/spring-beans.xsd">
	<!-- 配置Service 
		<bean> 配置需要创建的对象
			id:用于之后从Spring 容器中获得实例时使用的
			class:需要创建实例的全限定类名
	-->
	<bean id="userServiceId" class="com.stanlong.spring.UserServiceImpl"></bean>
	
</beans>
```

```java
package com.stanlong.service;

public interface UserService {
    public void addUser();
}

```

```java
package com.stanlong.service.impl;

import com.stanlong.service.UserService;

public class UserServiceImpl implements UserService {
    @Override
    public void addUser() {
        System.out.println("ioc addUser");
    }
}

```

```java
import com.stanlong.service.UserService;
import com.stanlong.service.impl.UserServiceImpl;
import org.junit.jupiter.api.Test;
import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;

/**
 * 测试
 */
public class TestIoC {
    @Test
    public void demo01() {
        // 以前的写法
        System.out.println("new 创建对象");
        UserService userService = new UserServiceImpl();
        userService.addUser();
    }

    @Test
    public void demo02() {
        // 新的写法
        // 1、获得Spring容器
        System.out.println("Spring IOC 创建对象");
        String xmlPath = "applicationContext.xml";
        ApplicationContext applicationContext = new ClassPathXmlApplicationContext(xmlPath);
        // 2、由Spring 容器创建对象
        UserService userService = (UserService) applicationContext.getBean("userServiceId");
        userService.addUser();
    }
}
```

## DI

